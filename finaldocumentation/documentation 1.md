Made a [google drive](https://drive.google.com/drive/folders/1H73yyXXVBAiyM1X2QswY5epgvKJn_drV?usp=sharing) with all the pictures and videos as the laptop wasnt letting me upload anythign to github.

**Description of the project: **
Our project is a graffiti wall. To interact with the digital part of the project there are 6 push buttons, 1 joystick & 1 force sensor. The user can use the force sensor to reset their drawing,the push buttons to change color, and the joystick to move and paint. They are enclosed in a box and the force sensor is on the ground so you can step and erase. Using this requires the use of both hands and your feet and this was something we wanted to focus on. We knew we somehow wanted our body to be interacting with the project in more ways than one and we couldn't get it right. But as we were working on the project we realized this is the perfect way to do this.

**Challenges:**
One large challenge was the enclosure. We had a hard time making the box and a even harder time putting everything in to where its user friendly. Making the box took us about a half day but we ended up doing it and we were happy we put the time in to do so. With that done we thought we had most of the grunt work out of the way and the rest of the enclosure would be easy breezy. We then realized that we would have to put the joystick and the buttons in and in a way that the user can press down with some force and not break it apart. We first thought tape was the way to do this and after multiple tries trying different ways of aligning them we realized that it was not going to work for the joystick and it would only - sort of - work for the buttons.
Another problem we faced close to the start of our project was that the joystick would just create a horizontal line to the side and wouldn't move.  We fixed this by changing the numbers and even sometimes by just quitting arduino na dp5 and powering them up again.

**Enclosure and Soldering:**

We had many different wres as we had quite a few sensors so soldering was definitely a process. We didn't know the most efficient ways to solder so we found ourselves spending 3 hours on soldering. However we did find that when we were both soldering together we finished much more quickly. 
Since we had 6 buttons they took an entire normal sized breadboard and to make the user experience better used 2 small breadboards. We were thinking of using 1 large one but since they were not connected we knew that would slow us down significantly and confuse us along the way as we didnt have any prior experience with a large breadboard with no connections.
When soldering we needed to be precise and we made a couple mistakes on the way but thankfully we melted it off and used the suction thing to clean it up. This was bound to happen since we were soldering a lot in one tiny breadboard. 
For the enclosure we spray painted the box a textured stone to give it an off the streets look, we painted some of the buttons using normal acrylic paint and we enclosed the force sensor in a mat we found in a house. We used heat shrink for the wires coming down to the force sensor and that step took us a lot of time. Again, since we didn't have much experience with it we didn't know the fastest ways to get it done so it took us a while to figure out. 
After painting all our pieces and soldering it all it was time to place it in the box. We realized we had measured too tight in some places so we used the wood shop to help us efficiently get it done. 

**Next Steps:**

Something we wanted to improve on is the overall look of our project. And a small feature we want to add is showing the user where the paint briggs is and making it easier for the user to move it around. 

**Arduino Code:**

In our Arduino code, we first begin with initializing the pin numbers for our sensors. For instance, the six buttons for color changing are plugged into pins 2 - 7, and the x and y values of the joystick are plugged into A0 and A1 as it is an analog sensor. Also, the switch(SW) of the joystick, which is like a momentary button, is plugged into pin 8. Lastly, our last sensor, which is the force sensor, is plugged into the analog pin A2. We also declared variables that will store the values of these sensors. For example, ```xPosition``` and ```yPosition``` store the x and y values of the joystick sensor as it is used. For the buttons, we created a separate variable for each colored button like rvalue, bvalue, etc. 

In void setup, we used the ```pinMode``` command to set each of the sensors as either inputs or outputs. In our case, all of our sensors are inputs. In void loop, we began with letting the variables  ```xPosition``` and ```yPosition``` read the joystick values by using ```analogRead```. Likewise, for the force sensor, we let the variable ```FSvalue``` store/read the values of the force sensor.  Similarly, we did the same thing for each colored button. However, we used digitalRead as it is a digital sensor. The switch on the joystick had the same line of code as it is a digital input.  

The final step in the Ardunio code is to send it to P5. previously we did this step using P5 serial control. However, we were given an alternative for P5 serial control as it was a lengthy process. This new process is a web serial p5 Ardunio. Thus, we don't have to deal with anything out of these two programs. From the Ardunio side, all we have to do is print the values of each sensor. Therefore, in setup, we put the ```Serial.begin(9600);```. Then in loop we put ```Serial.print``` for all the value variables of the sensors and made sure to print commas in between in order for us to see the values in an organized manner. Ultimately, when we run the code in Ardunio and open the serial monitor, we can see the correct values of each sensor. 

**P5 Code: **

To send Ardunio values into p5, we used the [WEB SERIAL p5 ARDUINO](https://editor.p5js.org/itp42/sketches/KDPs5Rl-P) the Professor gave us to use.  This example was far simpler than using p5 serial control. This example included two important functions. The first is a simple ```keyPressed``` function that includes the line ``` setUpSerial();``` that allows us to make the serial connection by pressing the space bar key and then selecting the correct port. The second function is ```readSerial```, which in an array splits the data received from Ardunio, and then you specify the number of data (sensor values) coming from Ardunio.  To do this, we initialized the variables for all of our sensor's values and added them to this function. When we added these values, we added the condition ```fromArdunio[#]``` that specifies which number on the array has these values of the specific sensor stored. We ensured that the number organization of sensors in the array corresponds to the same list organization in Ardunio (serial printing section). Then the values that are stored in the variables can be used in the draw function. 


Joystick 
Once we became familiar with the process of how to send values from Ardunio to p5, it was simpler to do so for the rest of the sensors used in our project. The first sensor we worked with in p5 was the joystick. This sensor, in particular, was quite difficult to work with at first. Since the sensors had three types of values included in it. The first is the x value, which is when the sensor moves from left to right. The second one is the y value which is when it moves up and down. Lastly is the switch (SW), which is a digital sensor that changes value from HIGH to LOW or 1 to 2 when pressed. We first struggled with mapping the x and y values to draw strokes of lines. We started by using ```mapX`` and ```mapY``` where we mapped the original values 0 - 1023 and the values we wanted 0 - 550. The map values we chose were just random. We wanted to explore the sensor as it was our first time using it. However, the sensor drew straight strokes of lines rather than in a free manner. We then realized that the sensor draws quickly because its values change quickly when moved. Therefore, we had to limit that. We set the initial value of the sensor as a middle value, so we did ```let xPosition = 1023 / 2``` and the same for y. Then we changed ```mapX`` and ```mapY``` into other variables called ```tempX`` and ```tempY```. We did the same mapping of values but changed our values from -5 to 5. We then made ```mapX = mapX + tempX``` and the same for ```mapY```. Lastly, we decraled the stroke condition and placed the variables ```mapX`` and ```mapY``` in it. Ultimately, this allowed for smoother drawing using the joystick. 

Add pictures of the joystick starting point 

Spray Effect
To make it seem as if the user is drawing with spray paint on the graffiti wall we tried looking for a way to create a spray effect on p5. We came across a [reference](https://www.dongphilyoo.com/archive/blog/itp/icm/icm-week6-p5-js-serial-port-communication-with-arduino/)  that helped us with understanding how to do so. This example method of creating a spray effect uses sin and cos. We created a new function called spray, with ```mapX`` and ```mapY``` as its coordinates. The function first includes two important things the stroke and setting a diameter. At the top of the sketch code, we made the diameter equal to 10.  In the function, we initialized a variable called ```radiusHigh``` which multiples the diameter by 0.5. The function includes an if statement that states if the diameter is larger than 0, then a for loop draws ellipses at random angles of ```TWO_PI``` and at a random radius between 0 and ```radiusHigh```. This spray effect is possible because when the ellipse code is written, the radius is multiplied by cos and sin and added to ```mapX`` and ```mapY```. The coordinates in the ellipse code are set at random values. The function also includes another if statement that specifies that if the values of ```mapX`` and ```mapY``` at the same point, the diameter of the spray would increase. The mechanics of this code is the same as the other if statement, whereas the only difference is in one of the values of the for loop. Lastly, to make sure that when the joystick draws in uses the spray effect, we replaced the stroke in the draw with spray and added ```mapX`` and ```mapY``` next to it in brackets. 

Switch in the joystick
We realized that the spray effect began immediately after we ran the code. So we wanted to change that by using the switch in the joystick. This was simple to add in the p5 code. The values of this switch are stored in the variable ```SWstate```. While printing the values of the switch in Ardunio, we saw that the value of the switch when pressed is 0 and 1 when it's not. Therefore, in draw, we added an if statement that indicates if the switch value is 0, then we put all the code for the joystick inside. Therefore, only when the switch is pressed can the user draw with it.  

Buttons for color change 
Next, we added buttons to enable the change of the spray color. The initial color that is set for the drawing is grey. The buttons have values 0 or 1. zero means off, and one means on. For each colored button, we created a variable to store these two values. To take the red button value as an example, we added an if statement for it in draw that states if the button's value equals one, then the fill color should be red. We proceeded to do the same thing for all six colored buttons. The color that is selected is shown in the text that is on the canvas and everytime it is changes the text color changes. 

Force sensor for reset
The last sensor we added was a force sensor to allow the user to reset and erase the whole canvas. Since we are using an image for the background of the canvas, all we had to was make the force sensor add a new one when it's used. So we stored all the values of the force sensor in a variable called ```FSvalue``` which were from 0 to 1023. In draw, we wrote an if statement saying that if the force value is greater than 400, then a new image of the brick wall would be created on the canvas, ultimately removing all that has been drawn with the joystick. 

Assets
To upload our image, sound, and font, we used the preload function. To upload the image in setup, we used the image syntax where we added the image we uploaded and the XY coordinates and size. For the size, we set it as ```windowWidth``` and ```windowHeight``` as that is what we set our canvas size too. For the text, we used the text syntax where we added the text we wanted and its XY coordinates. We also used ```textFont(font)``` to ensure the font works. The sound we had minor obstacles with. When we uploaded it, the sound quality was horrible, but we realized why after the professor pointed out we had it in draw instead of loop. However, we couldn't move it to loop because the sound was meant to play when the joystick switch was pressed and drawn with. Therefore, the professor recommended we create a new variable called ```pSWstate``` and set it equal to one. In the ```readSerial``` function we added an if statement specifying that if ```pSWstate``` is less than ```SWstate``` then the sound should stop. Else if the ```pSWstate``` is larger than the ```SWstate```then the sound should play. In other words, if the switch is pressed and its value becomes 0, then the ```pSWstate``` becomes larger, so the sound plays. 


**Work Split**
We split all the work 50/50 but we mostly did all the work together. Whether t was on a zoom call or face to face almost every second spent on this project was together and when it isn't it was fairly split.

**References: **

[WEB SERIAL p5 ARDUINO] (https://editor.p5js.org/itp42/sketches/KDPs5Rl-P)
[Spray Effect](https://www.dongphilyoo.com/archive/blog/itp/icm/icm-week6-p5-js-serial-port-communication-with-arduino/)
[About Joystick Sensor] (https://create.arduino.cc/projecthub/MisterBotBreak/how-to-use-a-joystick-with-serial-monitor-1f04f0) 
